{"numFailedTestSuites":1,"numFailedTests":2,"numPassedTestSuites":0,"numPassedTests":26,"numPendingTestSuites":0,"numPendingTests":0,"numRuntimeErrorTestSuites":0,"numTodoTests":0,"numTotalTestSuites":1,"numTotalTests":28,"openHandles":[],"snapshot":{"added":0,"didUpdate":false,"failure":false,"filesAdded":0,"filesRemoved":0,"filesRemovedList":[],"filesUnmatched":0,"filesUpdated":0,"matched":0,"total":0,"unchecked":0,"uncheckedKeysByFile":[],"unmatched":0,"updated":0},"startTime":1740377494017,"success":false,"testResults":[{"assertionResults":[{"ancestorTitles":["Module Generator","Template System"],"duration":8,"failureDetails":[],"failureMessages":[],"fullName":"Module Generator Template System should validate required template files exist","invocations":1,"location":null,"numPassingAsserts":9,"retryReasons":[],"status":"passed","title":"should validate required template files exist"},{"ancestorTitles":["Module Generator","Template System"],"duration":26,"failureDetails":[],"failureMessages":[],"fullName":"Module Generator Template System should validate template syntax","invocations":1,"location":null,"numPassingAsserts":23,"retryReasons":[],"status":"passed","title":"should validate template syntax"},{"ancestorTitles":["Module Generator","Template System","Handlebars Helpers","module/model helpers"],"duration":8,"failureDetails":[],"failureMessages":[],"fullName":"Module Generator Template System Handlebars Helpers module/model helpers should identify module models correctly","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should identify module models correctly"},{"ancestorTitles":["Module Generator","Template System","Handlebars Helpers","module/model helpers"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"Module Generator Template System Handlebars Helpers module/model helpers should generate correct route paths","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should generate correct route paths"},{"ancestorTitles":["Module Generator","Template System","Handlebars Helpers","module/model helpers"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"Module Generator Template System Handlebars Helpers module/model helpers should generate correct import paths","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should generate correct import paths"},{"ancestorTitles":["Module Generator","Template System","Handlebars Helpers","field processing"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Module Generator Template System Handlebars Helpers field processing should handle required fields","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should handle required fields"},{"ancestorTitles":["Module Generator","Template System","Handlebars Helpers","field processing"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Module Generator Template System Handlebars Helpers field processing should handle optional fields","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should handle optional fields"},{"ancestorTitles":["Module Generator","Template System","Handlebars Helpers","propAccess helper"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Module Generator Template System Handlebars Helpers propAccess helper should handle basic property access","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should handle basic property access"},{"ancestorTitles":["Module Generator","Template System","Handlebars Helpers","propAccess helper"],"duration":4,"failureDetails":[],"failureMessages":[],"fullName":"Module Generator Template System Handlebars Helpers propAccess helper should handle template literal mode","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should handle template literal mode"},{"ancestorTitles":["Module Generator","Template System","Handlebars Helpers","case conversion helpers"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"Module Generator Template System Handlebars Helpers case conversion helpers should convert to PascalCase","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should convert to PascalCase"},{"ancestorTitles":["Module Generator","Template System","Handlebars Helpers","case conversion helpers"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"Module Generator Template System Handlebars Helpers case conversion helpers should convert to snake_case","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should convert to snake_case"},{"ancestorTitles":["Module Generator","Template System","Handlebars Helpers","case conversion helpers"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Module Generator Template System Handlebars Helpers case conversion helpers should convert to kebab-case","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should convert to kebab-case"},{"ancestorTitles":["Module Generator","Template System","Handlebars Helpers","case conversion helpers"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Module Generator Template System Handlebars Helpers case conversion helpers should convert to camelCase","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should convert to camelCase"},{"ancestorTitles":["Module Generator","Template System","Handlebars Helpers","JSX helpers"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"Module Generator Template System Handlebars Helpers JSX helpers should handle jsx-if helper","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should handle jsx-if helper"},{"ancestorTitles":["Module Generator","Template System","Handlebars Helpers","JSX helpers"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Module Generator Template System Handlebars Helpers JSX helpers should handle jsx-expr helper","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should handle jsx-expr helper"},{"ancestorTitles":["Module Generator","Template System","Handlebars Helpers","JSX helpers"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Module Generator Template System Handlebars Helpers JSX helpers should handle jsx-ternary helper","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should handle jsx-ternary helper"},{"ancestorTitles":["Module Generator","Template System","Middleware Templates"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Module Generator Template System Middleware Templates should validate middleware template files exist","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should validate middleware template files exist"},{"ancestorTitles":["Module Generator","Template System","Middleware Templates"],"duration":5,"failureDetails":[],"failureMessages":[],"fullName":"Module Generator Template System Middleware Templates should handle field defaults in query transform","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should handle field defaults in query transform"},{"ancestorTitles":["Module Generator","Template System","Middleware Templates"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Module Generator Template System Middleware Templates should handle parent/child model relationships","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should handle parent/child model relationships"},{"ancestorTitles":["Module Generator","Module Generation","File Structure"],"duration":174,"failureDetails":[{"matcherResult":{"actual":false,"expected":true,"message":"\u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32mtrue\u001b[39m\nReceived: \u001b[31mfalse\u001b[39m","name":"toBe","pass":false}}],"failureMessages":["Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32mtrue\u001b[39m\nReceived: \u001b[31mfalse\u001b[39m\n    at Object.<anonymous> (/home/daryl/repos/wtech/scripts/module-generator/tests/generator.test.ts:260:56)"],"fullName":"Module Generator Module Generation File Structure should generate model files in correct locations","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"failed","title":"should generate model files in correct locations"},{"ancestorTitles":["Module Generator","Module Generation","Field Types"],"duration":99,"failureDetails":[],"failureMessages":[],"fullName":"Module Generator Module Generation Field Types should handle all field types correctly","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should handle all field types correctly"},{"ancestorTitles":["Module Generator","Module Generation","Middleware Generation"],"duration":143,"failureDetails":[],"failureMessages":[],"fullName":"Module Generator Module Generation Middleware Generation should generate all required middleware files","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should generate all required middleware files"},{"ancestorTitles":["Module Generator","Dry Run"],"duration":17,"failureDetails":[],"failureMessages":[],"fullName":"Module Generator Dry Run should not create files during dry run","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should not create files during dry run"},{"ancestorTitles":["Module Generator","Dry Run"],"duration":17,"failureDetails":[],"failureMessages":[],"fullName":"Module Generator Dry Run should return correct FileChange array","invocations":1,"location":null,"numPassingAsserts":15,"retryReasons":[],"status":"passed","title":"should return correct FileChange array"},{"ancestorTitles":["Module Generator","Dry Run"],"duration":107,"failureDetails":[],"failureMessages":[],"fullName":"Module Generator Dry Run should capture all potential file changes","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should capture all potential file changes"},{"ancestorTitles":["Module Generator","Dry Run"],"duration":30,"failureDetails":[],"failureMessages":[],"fullName":"Module Generator Dry Run should work in both test and production modes","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should work in both test and production modes"},{"ancestorTitles":["Module Generator","Middleware Template Data Injection"],"duration":36,"failureDetails":[],"failureMessages":[],"fullName":"Module Generator Middleware Template Data Injection should pass correct data to middleware templates","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"should pass correct data to middleware templates"},{"ancestorTitles":["Module Generator","Middleware Template Data Injection"],"duration":51,"failureDetails":[{"matcherResult":{"actual":[{"moduleName":"tests","moduleModelName":"test-model","singular":"test","plural":"tests","faker":{"defaults":{"string":"string.sample","number":"number.int({ min: 1, max: 100 })","boolean":"datatype.boolean","date":"date.recent"}},"models":[{"name":"test-model","modelName":"TestModel","modelNamePlural":"TestModels","singular":"model","plural":"models","faker":{"fields":{"name":"commerce.productName","code":"string.alphanumeric(10)"}},"fields":[{"name":"name","type":"string","required":true},{"name":"code","type":"string","required":true},{"name":"test","type":"string","relation":{"type":"belongsTo","model":"Test","mappedBy":"models"}}]}]},{"moduleName":"relationships","moduleModelName":"one-to-many","singular":"relationship","plural":"relationships","faker":{"defaults":{"string":"string.sample","number":"number.int({ min: 1, max: 1000 })"}},"models":[{"name":"one-to-many","modelName":"OneToMany","modelNamePlural":"OneToManys","singular":"one","plural":"ones","faker":{"fields":{"name":"commerce.productName"}},"fields":[{"name":"name","type":"string","required":true},{"name":"manys","type":"string","relation":{"type":"hasMany","model":"Many","mappedBy":"one"}}]},{"name":"many-to-one","modelName":"ManyToOne","modelNamePlural":"ManyToOnes","singular":"many","plural":"manys","faker":{"fields":{"name":"commerce.productName"}},"fields":[{"name":"name","type":"string","required":true},{"name":"one","type":"string","relation":{"type":"belongsTo","model":"One","mappedBy":"manys"}}]}]}],"expected":{"sample":[{"sample":{"moduleName":"tests","plural":"tests","models":{"sample":[{"name":"test-model","plural":"models"}],"inverse":false}},"inverse":false},{"sample":{"moduleName":"relationships","plural":"relationships","models":{"sample":[{"name":"one-to-many","plural":"ones"},{"name":"many-to-one","plural":"manys"}],"inverse":false}},"inverse":false}],"inverse":false},"message":"\u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoEqual\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // deep equality\u001b[22m\n\nExpected: \u001b[32mArrayContaining [ObjectContaining {\"models\": ArrayContaining [{\"name\": \"test-model\", \"plural\": \"models\"}], \"moduleName\": \"tests\", \"plural\": \"tests\"}, ObjectContaining {\"models\": ArrayContaining [{\"name\": \"one-to-many\", \"plural\": \"ones\"}, {\"name\": \"many-to-one\", \"plural\": \"manys\"}], \"moduleName\": \"relationships\", \"plural\": \"relationships\"}]\u001b[39m\nReceived: \u001b[31m[{\"faker\": {\"defaults\": {\"boolean\": \"datatype.boolean\", \"date\": \"date.recent\", \"number\": \"number.int({ min: 1, max: 100 })\", \"string\": \"string.sample\"}}, \"models\": [{\"faker\": {\"fields\": {\"code\": \"string.alphanumeric(10)\", \"name\": \"commerce.productName\"}}, \"fields\": [{\"name\": \"name\", \"required\": true, \"type\": \"string\"}, {\"name\": \"code\", \"required\": true, \"type\": \"string\"}, {\"name\": \"test\", \"relation\": {\"mappedBy\": \"models\", \"model\": \"Test\", \"type\": \"belongsTo\"}, \"type\": \"string\"}], \"modelName\": \"TestModel\", \"modelNamePlural\": \"TestModels\", \"name\": \"test-model\", \"plural\": \"models\", \"singular\": \"model\"}], \"moduleModel\": undefined, \"moduleModelName\": \"test-model\", \"moduleName\": \"tests\", \"plural\": \"tests\", \"singular\": \"test\"}, {\"faker\": {\"defaults\": {\"number\": \"number.int({ min: 1, max: 1000 })\", \"string\": \"string.sample\"}}, \"models\": [{\"faker\": {\"fields\": {\"name\": \"commerce.productName\"}}, \"fields\": [{\"name\": \"name\", \"required\": true, \"type\": \"string\"}, {\"name\": \"manys\", \"relation\": {\"mappedBy\": \"one\", \"model\": \"Many\", \"type\": \"hasMany\"}, \"type\": \"string\"}], \"modelName\": \"OneToMany\", \"modelNamePlural\": \"OneToManys\", \"name\": \"one-to-many\", \"plural\": \"ones\", \"singular\": \"one\"}, {\"faker\": {\"fields\": {\"name\": \"commerce.productName\"}}, \"fields\": [{\"name\": \"name\", \"required\": true, \"type\": \"string\"}, {\"name\": \"one\", \"relation\": {\"mappedBy\": \"manys\", \"model\": \"One\", \"type\": \"belongsTo\"}, \"type\": \"string\"}], \"modelName\": \"ManyToOne\", \"modelNamePlural\": \"ManyToOnes\", \"name\": \"many-to-one\", \"plural\": \"manys\", \"singular\": \"many\"}], \"moduleModel\": undefined, \"moduleModelName\": \"one-to-many\", \"moduleName\": \"relationships\", \"plural\": \"relationships\", \"singular\": \"relationship\"}]\u001b[39m","name":"toEqual","pass":false}}],"failureMessages":["Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoEqual\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // deep equality\u001b[22m\n\nExpected: \u001b[32mArrayContaining [ObjectContaining {\"models\": ArrayContaining [{\"name\": \"test-model\", \"plural\": \"models\"}], \"moduleName\": \"tests\", \"plural\": \"tests\"}, ObjectContaining {\"models\": ArrayContaining [{\"name\": \"one-to-many\", \"plural\": \"ones\"}, {\"name\": \"many-to-one\", \"plural\": \"manys\"}], \"moduleName\": \"relationships\", \"plural\": \"relationships\"}]\u001b[39m\nReceived: \u001b[31m[{\"faker\": {\"defaults\": {\"boolean\": \"datatype.boolean\", \"date\": \"date.recent\", \"number\": \"number.int({ min: 1, max: 100 })\", \"string\": \"string.sample\"}}, \"models\": [{\"faker\": {\"fields\": {\"code\": \"string.alphanumeric(10)\", \"name\": \"commerce.productName\"}}, \"fields\": [{\"name\": \"name\", \"required\": true, \"type\": \"string\"}, {\"name\": \"code\", \"required\": true, \"type\": \"string\"}, {\"name\": \"test\", \"relation\": {\"mappedBy\": \"models\", \"model\": \"Test\", \"type\": \"belongsTo\"}, \"type\": \"string\"}], \"modelName\": \"TestModel\", \"modelNamePlural\": \"TestModels\", \"name\": \"test-model\", \"plural\": \"models\", \"singular\": \"model\"}], \"moduleModel\": undefined, \"moduleModelName\": \"test-model\", \"moduleName\": \"tests\", \"plural\": \"tests\", \"singular\": \"test\"}, {\"faker\": {\"defaults\": {\"number\": \"number.int({ min: 1, max: 1000 })\", \"string\": \"string.sample\"}}, \"models\": [{\"faker\": {\"fields\": {\"name\": \"commerce.productName\"}}, \"fields\": [{\"name\": \"name\", \"required\": true, \"type\": \"string\"}, {\"name\": \"manys\", \"relation\": {\"mappedBy\": \"one\", \"model\": \"Many\", \"type\": \"hasMany\"}, \"type\": \"string\"}], \"modelName\": \"OneToMany\", \"modelNamePlural\": \"OneToManys\", \"name\": \"one-to-many\", \"plural\": \"ones\", \"singular\": \"one\"}, {\"faker\": {\"fields\": {\"name\": \"commerce.productName\"}}, \"fields\": [{\"name\": \"name\", \"required\": true, \"type\": \"string\"}, {\"name\": \"one\", \"relation\": {\"mappedBy\": \"manys\", \"model\": \"One\", \"type\": \"belongsTo\"}, \"type\": \"string\"}], \"modelName\": \"ManyToOne\", \"modelNamePlural\": \"ManyToOnes\", \"name\": \"many-to-one\", \"plural\": \"manys\", \"singular\": \"many\"}], \"moduleModel\": undefined, \"moduleModelName\": \"one-to-many\", \"moduleName\": \"relationships\", \"plural\": \"relationships\", \"singular\": \"relationship\"}]\u001b[39m\n    at Object.<anonymous> (/home/daryl/repos/wtech/scripts/module-generator/tests/generator.test.ts:430:46)"],"fullName":"Module Generator Middleware Template Data Injection should pass multiple modules data to root middleware template","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"failed","title":"should pass multiple modules data to root middleware template"}],"endTime":1740377504464,"message":"\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mModule Generator › Module Generation › File Structure › should generate model files in correct locations\u001b[39m\u001b[22m\n\n    \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\n    Expected: \u001b[32mtrue\u001b[39m\n    Received: \u001b[31mfalse\u001b[39m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mModule Generator › Middleware Template Data Injection › should pass multiple modules data to root middleware template\u001b[39m\u001b[22m\n\n    \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoEqual\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // deep equality\u001b[22m\n\n    Expected: \u001b[32mArrayContaining [ObjectContaining {\"models\": ArrayContaining [{\"name\": \"test-model\", \"plural\": \"models\"}], \"moduleName\": \"tests\", \"plural\": \"tests\"}, ObjectContaining {\"models\": ArrayContaining [{\"name\": \"one-to-many\", \"plural\": \"ones\"}, {\"name\": \"many-to-one\", \"plural\": \"manys\"}], \"moduleName\": \"relationships\", \"plural\": \"relationships\"}]\u001b[39m\n    Received: \u001b[31m[{\"faker\": {\"defaults\": {\"boolean\": \"datatype.boolean\", \"date\": \"date.recent\", \"number\": \"number.int({ min: 1, max: 100 })\", \"string\": \"string.sample\"}}, \"models\": [{\"faker\": {\"fields\": {\"code\": \"string.alphanumeric(10)\", \"name\": \"commerce.productName\"}}, \"fields\": [{\"name\": \"name\", \"required\": true, \"type\": \"string\"}, {\"name\": \"code\", \"required\": true, \"type\": \"string\"}, {\"name\": \"test\", \"relation\": {\"mappedBy\": \"models\", \"model\": \"Test\", \"type\": \"belongsTo\"}, \"type\": \"string\"}], \"modelName\": \"TestModel\", \"modelNamePlural\": \"TestModels\", \"name\": \"test-model\", \"plural\": \"models\", \"singular\": \"model\"}], \"moduleModel\": undefined, \"moduleModelName\": \"test-model\", \"moduleName\": \"tests\", \"plural\": \"tests\", \"singular\": \"test\"}, {\"faker\": {\"defaults\": {\"number\": \"number.int({ min: 1, max: 1000 })\", \"string\": \"string.sample\"}}, \"models\": [{\"faker\": {\"fields\": {\"name\": \"commerce.productName\"}}, \"fields\": [{\"name\": \"name\", \"required\": true, \"type\": \"string\"}, {\"name\": \"manys\", \"relation\": {\"mappedBy\": \"one\", \"model\": \"Many\", \"type\": \"hasMany\"}, \"type\": \"string\"}], \"modelName\": \"OneToMany\", \"modelNamePlural\": \"OneToManys\", \"name\": \"one-to-many\", \"plural\": \"ones\", \"singular\": \"one\"}, {\"faker\": {\"fields\": {\"name\": \"commerce.productName\"}}, \"fields\": [{\"name\": \"name\", \"required\": true, \"type\": \"string\"}, {\"name\": \"one\", \"relation\": {\"mappedBy\": \"manys\", \"model\": \"One\", \"type\": \"belongsTo\"}, \"type\": \"string\"}], \"modelName\": \"ManyToOne\", \"modelNamePlural\": \"ManyToOnes\", \"name\": \"many-to-one\", \"plural\": \"manys\", \"singular\": \"many\"}], \"moduleModel\": undefined, \"moduleModelName\": \"one-to-many\", \"moduleName\": \"relationships\", \"plural\": \"relationships\", \"singular\": \"relationship\"}]\u001b[39m\n","name":"/home/daryl/repos/wtech/scripts/module-generator/tests/generator.test.ts","startTime":1740377494176,"status":"failed","summary":""}],"wasInterrupted":false}
