import { useAdminCreateMutation } from "@medusajs/admin";
import { Form } from "@medusajs/admin-ui";

export const {{toPascalCase model.name}}Create = () => {
  const { mutate, isLoading } = useAdminCreateMutation(
    "{{getRoutePath model module}}"
  );

  const handleSubmit = (data: any) => {
    mutate(data);
  };

  return (
    <Form onSubmit={handleSubmit}>
      {{#each model.fields}}
      {{#if (eq type "string")}}
      <Form.Field
        label="{{toTitleCase name}}"
        name="{{name}}"
        type="text"
        required={{required}}
      />
      {{/if}}
      {{#if (eq type "number")}}
      <Form.Field
        label="{{toTitleCase name}}"
        name="{{name}}"
        type="number"
        required={{required}}
      />
      {{/if}}
      {{#if (eq type "boolean")}}
      <Form.Field
        label="{{toTitleCase name}}"
        name="{{name}}"
        type="checkbox"
        required={{required}}
      />
      {{/if}}
      {{#if (eq type "date")}}
      <Form.Field
        label="{{toTitleCase name}}"
        name="{{name}}"
        type="date"
        required={{required}}
      />
      {{/if}}
      {{#if relation}}
      {{#if (eq relation.type "belongsTo")}}
      <Form.Field
        label="{{toTitleCase name}}"
        name="{{name}}_id"
        type="select"
        required={{required}}
      />
      {{/if}}
      {{#if (eq relation.type "hasMany")}}
      <Form.Field
        label="{{toTitleCase name}}"
        name="{{name}}_ids"
        type="multiselect"
        required={{required}}
      />
      {{/if}}
      {{#if (eq relation.type "manyToMany")}}
      <Form.Field
        label="{{toTitleCase name}}"
        name="{{name}}_ids"
        type="multiselect"
        required={{required}}
      />
      {{/if}}
      {{/if}}
      {{/each}}
      <Form.Submit isLoading={isLoading}>Create</Form.Submit>
    </Form>
  );
}; 